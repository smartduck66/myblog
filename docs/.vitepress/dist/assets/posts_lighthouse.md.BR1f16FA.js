import{_ as a,c as n,m as e,a as r,t,V as i,o,am as u,an as l}from"./chunks/framework.DyooxGaQ.js";const P=JSON.parse('{"title":"Lighthouse","description":"","frontmatter":{"title":"Lighthouse","date":"2023-01-10T00:00:00.000Z","category":["outils"],"tag":["performance"],"archive":false},"headers":[],"relativePath":"posts/lighthouse.md","filePath":"posts/lighthouse.md"}'),d={name:"posts/lighthouse.md"},c={id:"frontmatter-title",tabindex:"-1"},p=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"‚Äã",-1),m={id:"frontmatter-date-substring-8-10-frontmatter-date-substring-5-7-frontmatter-date-substring-0-4",tabindex:"-1"},h=e("br",null,null,-1),g=e("br",null,null,-1),f=e("a",{class:"header-anchor",href:"#frontmatter-date-substring-8-10-frontmatter-date-substring-5-7-frontmatter-date-substring-0-4","aria-label":'Permalink to ":calendar: {{ $frontmatter.date.substring(8,10) }}/{{ $frontmatter.date.substring(5,7) }}/{{ $frontmatter.date.substring(0,4) }}<br><br>"'},"‚Äã",-1),b=i('<p>Auditer, am√©liorer et monitorer le plus r√©guli√®rement et automatiquement possible son site web constituent la cl√© d&#39;un bon r√©f√©rencement par les moteurs de recherche. De fait, un site lent, ne respectant pas les standards d&#39;accessibilit√© ou les bonnes pratiques de d√©veloppement aura peu de chances de figurer dans les 10 premiers sites affich√©s lors d&#39;une recherche sur Google. Rassurez-vous : une bonne (√©co-) conception et un peu de bons sens (pas d&#39;images qui p√®sent 5 mo...) vous permettront assez facilement d&#39;obtenir des scores corrects. J&#39;en ai eu r√©cemment un bon exemple lors de la refonte d&#39;un site web √©crit initialement sous Wordpress : la performance initiale √©tait √† peine de 60/100. Apr√®s quelques heures d&#39;investigation et de param√©trage (cache, poids des images, etc.), j&#39;√©tais remont√© √† plus de 70 ; sa refonte en vue.js m&#39;a amen√© plus tard √† 95/100...</p><h3 id="lighthouse-a-minima" tabindex="-1">Lighthouse, a minima <a class="header-anchor" href="#lighthouse-a-minima" aria-label="Permalink to &quot;Lighthouse, a minima&quot;">‚Äã</a></h3><p>Google a mis √† disposition des d√©veloppeurs, depuis plusieurs ann√©es, diff√©rents outils qui vous aideront √† mieux analyser la performance de votre site web. Par exemple, <a href="https://developer.chrome.com/docs/lighthouse/overview/" target="_blank" rel="noreferrer">Lighthouse</a> est fourni dans le navigateur Chrome (&gt; Plus d&#39;outils &gt; Outils de d√©veloppement &gt; Lighthouse), vous permettant de lancer un test &quot;√† la vol√©e&quot; sur la page affich√©e. Cinq scores sont disponibles :</p><ul><li><strong>Performance</strong> : six m√©triques principales (cf. ci-dessous) vous donneront une mesure <em>spot</em> de la performance de votre site. Chacune a un <a href="https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/" target="_blank" rel="noreferrer">poids</a> plus ou moins important dans le score global.</li><li><strong>Accessibilit√©</strong> : un site se doit d&#39;√™tre lisible, ergonomique, utilisable pour toute personne le visitant. Par exemple, une police de caract√®res trop petite ou trop peu de contraste sur un bouton sont des d√©fauts √† corriger. Le W3C a √©dit√© une <a href="https://www.w3.org/WAI/standards-guidelines/" target="_blank" rel="noreferrer">norme</a> qui √©volue r√©guli√®rement.</li><li><strong>Bonnes pratiques</strong> : d√©velopper un site web repose sur des m√©thodologies √©prouv√©es. Que ce soit du bon usage des balises HTML, de la r√©solution des images servies ou de la s√©curit√© du site, vous devez appliquer les <a href="https://developer.chrome.com/docs/lighthouse/best-practices/" target="_blank" rel="noreferrer">bonnes pratiques</a> reconnues par l&#39;industrie.</li><li><strong>SEO</strong> : les v√©rifications effectu√©es par ces tests vous assurent que votre site suit les optimisations minimales n√©cessaires √† une bonne <a href="https://www.seo.fr/definition/seo-definition" target="_blank" rel="noreferrer">indexation</a> par les moteurs de recherche.</li><li><strong>PWA</strong> : enfin, le score <a href="https://fr.wikipedia.org/wiki/Progressive_web_app" target="_blank" rel="noreferrer">Progressive Web App</a> valide les diff√©rents aspects li√©s √† cette technologie, encore trop peu mise en oeuvre. <br><br><img src="'+u+'" alt="IMG" title="Scores Lighthouse sur la page d&#39;accueil du blog"><br></li></ul><p>Lighthouse est vraiment l&#39;outil qu&#39;il vous faut a minima utiliser pour maintenir la qualit√© per√ßue de votre site web, d&#39;autant plus qu&#39;il est facilement int√©grable dans une cha√Æne CI-CD. D&#39;ailleurs, la vraie force de l&#39;outil r√©side dans les recommandations propos√©es : en les suivant, vous √™tes certain de faire progresser votre score sur chacune des dimensions. Le <em>graal</em> est √©videmment de &quot;topper&quot; les 4 premiers indicateurs √† 100, comme par exemple sur cette <a href="https://www.speedlify.dev/eleventy-starters/" target="_blank" rel="noreferrer">page</a>. Si vous voulez constater la mise en oeuvre sur votre propre site de divers endroits du monde, je vous conseille de tester <a href="https://lighthouse-metrics.com/" target="_blank" rel="noreferrer">Lighthouse Metrics</a>.</p><h3 id="creusons-les-indicateurs-de-la-performance" tabindex="-1">&quot;Creusons&quot; les indicateurs de la performance <a class="header-anchor" href="#creusons-les-indicateurs-de-la-performance" aria-label="Permalink to &quot;&quot;Creusons&quot; les indicateurs de la performance&quot;">‚Äã</a></h3><p>Il est int√©ressant de bien comprendre chacun des indicateurs suivants, ce qui vous donnera les cl√©s pour les am√©liorer et, donc, obtenir une performance se rapprochant des 100 points :</p><ul><li><strong>First Contentful Paint</strong> : FCP mesure le nombre de secondes n√©cessaires au navigateur pour afficher le premier objet du <a href="https://developer.mozilla.org/fr/docs/Web/API/Document_Object_Model" target="_blank" rel="noreferrer">DOM</a> (ex : une image), une fois que l&#39;usager a demand√© la page en question. Votre site sera consid√©r√© comme rapide si le FCP est inf√©rieur √† 1,8 seconde, lent au-dessus de 3 secondes. Le chargement des fontes de caract√®res impacte particuli√®rement cet indicateur, raison pour laquelle le format <a href="https://fr.wikipedia.org/wiki/Web_Open_Font_Format" target="_blank" rel="noreferrer">WOFF</a> est de plus en plus pr√©f√©r√©.</li><li><strong>Speed Index</strong> : SI mesure le nombre de secondes n√©cessaires au navigateur pour afficher un contenu durant le chargement d&#39;une page. Lighthouse capture une vid√©o de la page se chargeant dans le navigateur puis calcule la progression visuelle entre les diff√©rentes <em>frames</em>. SI sera bon si sa mesure est inf√©rieure √† 3,4 secondes, mauvais si elle d√©passe 5,8 secondes. L&#39;une des mani√®res d&#39;am√©liorer cet indicateur est de r√©duire le temps d&#39;ex√©cution du code javascript.</li><li><strong>Largest Contentful Paint</strong> : LCP mesure le nombre de secondes n√©cessaires au navigateur pour afficher l&#39;image ou le bloc de texte le plus large de la page, dans la surface visible par l&#39;usager (<em>viewport</em>) qui varie en fonction de la taille physique de l&#39;√©cran. Un bon score doit √™tre inf√©rieur √† 2,5 secondes ; un mauvais d√©passe les 4 secondes. L&#39;optimisation des images, des fontes de caract√®res, du code JS ou CSS contribuera √† l&#39;am√©liorer.</li><li><strong>Time to Interactive</strong> : TTI mesure le nombre de secondes n√©cessaires √† une page pour √™tre &quot;totalement interactive&quot;. Trois crit√®res sont pris en compte par Lighthouse pour d√©terminer cet √©tat : la page affiche du contenu &quot;utile&quot; (mesur√© par l&#39;indicateur FCP), les <a href="https://developer.mozilla.org/en-US/docs/Web/Events/Event_handlers" target="_blank" rel="noreferrer"><em>event handlers</em></a> sont accessibles pour la plupart des √©l√©ments visibles de la page et la page est capable de r√©pondre aux interactions de l&#39;utilisateur en moins de 50 millisecondes. On consid√©rera que le TTI d&#39;une page est correct en dessous de 3,8 secondes, mauvais au dessus de 7,3 secondes. Un bon rem√®de √† un TTI m√©diocre est de diff√©rer ou, mieux, supprimer le chargement de code javascript.</li><li><strong>Total Blocking Time</strong> : TBT mesure le temps qu&#39;une page reste &quot;bloqu√©e&quot; avant de r√©pondre √† une interaction de l&#39;utilisateur (clic souris, touche press√©e, appui sur l&#39;√©cran). Toute t√¢che qui requiert plus de 50 millisecondes (ms) pour s&#39;ex√©cuter est consid√©r√©e comme trop longue. La somme est calcul√©e en additionnant la &quot;portion bloquante&quot; (nombre de ms au dessus de 50) de toutes les &quot;longues&quot; t√¢ches entre les indicateurs FCP et TTI. TBT s&#39;av√©rera correct en dessous de 200 ms, lent au dessus de 600 ms.</li><li><strong>Cumulative Layout Shift</strong> : CLS mesure la stabilit√© visuelle d&#39;une page. Il augmente √† chaque changement visuel inattendu qui d√©grade l&#39;exp√©rience utilisateur. Un bon CLS est inf√©rieur √† 0,1, un mauvais est sup√©rieur √† 0,25. Une bonne fa√ßon de l&#39;am√©liorer est, par exemple, de fixer la taille des images et des vid√©os.</li></ul><p>D&#39;autres indicateurs existent comme le <strong>FID</strong> (First Input Delay) qui mesure la dur√©e maximum potentielle entre une interaction demand√©e par l&#39;usager (ex : un clic sur un bouton) et la capacit√© r√©elle du navigateur √† r√©pondre √† cette demande.</p><p>Comme vous pouvez le constater, ces indicateurs ne sont pas toujours simples √† appr√©hender et les mesures d√©pendent de facteurs comme la puissance du processeur ou le d√©bit d&#39;acc√®s √† Internet. Pour cette raison, Lighthouse affiche en bas des r√©sultats un cartouche d√©crivant l&#39;environnement dans lequel les tests sont effectu√©s : <br><br><img src="'+l+'" alt="IMG" title="R√©f√©rences de mesures Lighthouse"><br></p><h3 id="speedlify-de-zach-leatherman" tabindex="-1">Speedlify de Zach Leatherman <a class="header-anchor" href="#speedlify-de-zach-leatherman" aria-label="Permalink to &quot;Speedlify de Zach Leatherman&quot;">‚Äã</a></h3><p>Sinon, le cr√©ateur du SSG Eleventy met √† disposition l&#39;outil <a href="https://www.zachleat.com/web/speedlify/" target="_blank" rel="noreferrer">speedlify</a> que j&#39;ai moi-m√™me instanci√© sur les valeurs du <a href="https://speedlifycac40.andretonic.fr/" target="_blank" rel="noreferrer">CAC40</a>. Zach a utilis√© les API mises √† disposition par Google pour automatiser la mesure des scores Lighthouse. L&#39;outil permet de suivre dans le temps la performance de sites externes (ou de ses propres sites, bien entendu) et il est toujours instructif de constater le chemin qui reste √† parcourir, m√™me pour des entreprises renomm√©es üòâ</p><p><a href="/">&gt; Accueil</a> <a href="/articles.html">&gt; Tous les articles</a></p>',13);function v(s,q,_,L,T,w){return o(),n("div",null,[e("h1",c,[r(t(s.$frontmatter.title)+" ",1),p]),e("h5",m,[r("üìÜ "+t(s.$frontmatter.date.substring(8,10))+"/"+t(s.$frontmatter.date.substring(5,7))+"/"+t(s.$frontmatter.date.substring(0,4)),1),h,g,r(),f]),b])}const k=a(d,[["render",v]]);export{P as __pageData,k as default};
